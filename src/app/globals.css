@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  V2 Design System: Institucional, Sobrio, Funcional 
*/

@layer base {
  :root {
    /* Adaptive Background Stains */
    --stain-1-hue: 0;      /* Red */
    --stain-1-saturation: 80%;
    --stain-1-lightness: 50%;
    --stain-1-alpha: 0.1;

    --stain-2-hue: 20;     /* Orange-Red */
    --stain-2-saturation: 85%;
    --stain-2-lightness: 55%;
    --stain-2-alpha: 0.08;

    --stain-3-hue: 220;    /* Neutral Blue */
    --stain-3-saturation: 10%;
    --stain-3-lightness: 60%;
    --stain-3-alpha: 0.05;

    /* Base Palette */
    --background: 224 71.4% 4.1%; /* Almost Black */
    --foreground: 210 20% 98%;   /* Almost White */

    --card: 220 25% 12%; /* Dark, slightly blue-ish gray */
    --card-foreground: 210 20% 98%;

    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;

    --primary: 217 91% 60%; /* Bright Blue */
    --primary-foreground: 210 20% 98%;

    --secondary: 215 28% 17%;
    --secondary-foreground: 210 20% 98%;

    --muted: 215 28% 17%;
    --muted-foreground: 215.4 16.3% 56.9%;

    --accent: 217.2 91.2% 59.8%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 72% 51%; /* Red */
    --destructive-foreground: 210 40% 98%;

    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 217.2 91.2% 59.8%;

    --radius: 0.75rem;

    /* Severity Colors (for text, borders, etc.) */
    --severity-high: 0 84% 60%;
    --severity-medium: 45 92% 55%; /* Changed to yellow/orange */
    --severity-low: 185 84% 60%; /* Changed to light blue */
  }

  .dark {
    /* Same as root for this design */
  }

  * {
    @apply border-border;
  }
  
  body {
    color: hsl(var(--foreground));
    background: hsl(var(--background));
    font-family: var(--font-nunito), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    
    /* Adaptive Morphism Background for Plantilla Viva page */
    background-image: 
      radial-gradient(at 80% 10%, hsla(var(--stain-1-hue), var(--stain-1-saturation), var(--stain-1-lightness), var(--stain-1-alpha)) 0px, transparent 50%),
      radial-gradient(at 20% 90%, hsla(var(--stain-2-hue), var(--stain-2-saturation), var(--stain-2-lightness), var(--stain-2-alpha)) 0px, transparent 50%),
      radial-gradient(at 50% 50%, hsla(var(--stain-3-hue), var(--stain-3-saturation), var(--stain-3-lightness), var(--stain-3-alpha)) 0px, transparent 70%);
    background-attachment: fixed;
    transition: background-image 1.5s ease-in-out;
  }
}

@layer components {
  /* Custom utility for the incident severity gradient bar */
  .incident-bar {
    @apply w-1.5 h-full absolute left-0 top-0;
  }
  .incident-bar-high {
    background-image: linear-gradient(to bottom, hsl(var(--severity-high)), hsl(var(--severity-medium)));
  }
  .incident-bar-medium {
    background-image: linear-gradient(to bottom, hsl(var(--severity-medium)), hsl(var(--severity-low)));
  }
  .incident-bar-low {
     background-color: hsl(var(--severity-low));
  }

  /* Glassmorphism for dark background panels */
  .panel-glass {
    @apply bg-[hsl(var(--card)/0.6)] backdrop-blur-md border border-[hsl(var(--border)/0.5)] shadow-xl;
  }
  
  /* Glassmorphism for light background cards */
  .glass-card {
    @apply bg-white/30 backdrop-blur-lg border border-white/40 shadow-lg;
  }
}
