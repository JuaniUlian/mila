@tailwind base;
@tailwind components;
@tailwind utilities;

/*
  The Nunito font is applied via layout.tsx using nunito.variable (to set the CSS variable --font-nunito)
  and then explicitly in the body rule within @layer base below.
*/

@layer base {
  :root {
    /* Dark Purple Glassmorphism Theme */
    --background: 260 60% 8%; /* Very dark deep purple for page background */
    --foreground: 240 10% 85%; /* Light lavender/gray for text */

    --card: 260 40% 18%; /* Darker purple for main glass panels */
    --card-foreground: 240 10% 85%;

    --popover: 260 40% 12%; /* Darker popover */
    --popover-foreground: 240 10% 85%;

    --primary: 275 80% 65%; /* Vibrant violet/magenta for primary actions */
    --primary-foreground: 240 10% 95%; /* White/very light lavender */

    --secondary: 260 30% 25%; /* Muted darker purple for secondary elements */
    --secondary-foreground: 240 10% 75%;

    --muted: 260 30% 22%; /* Muted darker purple for less emphasis */
    --muted-foreground: 240 10% 60%; 

    --accent: 275 80% 70%; /* Slightly lighter vibrant violet/magenta for accents/hovers */
    --accent-foreground: 240 10% 95%;

    --destructive: 0 70% 55%; 
    --destructive-foreground: 0 0% 100%;

    --border: 260 30% 30%; /* Subtle purple border for glass elements */
    --input: 260 30% 25%;
    --ring: 275 80% 70%; /* Matches accent */

    --radius: 0.75rem; /* Base radius, glass cards use rounded-2xl or more */

    /* Sidebar specific variables - Dark Purple Glassmorphism */
    --sidebar-background: 255 45% 22%; /* Dark, slightly desaturated purple for sidebar base */
    --sidebar-foreground: 240 15% 90%;       
    --sidebar-primary: 275 80% 65%;          /* Active/Selected Item - Vibrant violet/magenta */
    --sidebar-primary-foreground: 240 10% 95%; 
    --sidebar-accent: 260 40% 28%;           /* Hover Item Darker (subtle contrast) */
    --sidebar-accent-foreground: 240 15% 92%;
    --sidebar-border: 260 30% 15%;           
    --sidebar-ring: 275 80% 70%;             

    /* Custom Colors - ensure these fit the dark purple theme or adjust */
    --custom-technical-norm-blue: 217 70% 70%; /* Lighter blue for technical text on dark bg */
    --custom-technical-norm-blue-foreground: 260 40% 10%; /* For bg if norm-blue is background */
    
    --custom-warning-yellow-bg: 45 80% 60%;   
    --custom-warning-yellow-fg: 260 40% 10%; 

    --custom-technical-text-blue: 217 70% 70%; /* Lighter blue for technical text */
    
    --custom-severity-low-bg: 185 70% 50%;    
    --custom-severity-low-fg: 0 0% 100%;
    
    --custom-severity-medium-bg: 45 80% 60%; 
    --custom-severity-medium-fg: 260 40% 10%; 

    --custom-severity-high-bg: 0 70% 55%;    
    --custom-severity-high-fg: 0 0% 100%;

    --chart-1: 275 80% 70%; 
    --chart-2: 295 75% 75%; 
    --chart-3: 255 70% 65%; 
    --chart-4: 30 80% 65%;  
    --chart-5: 240 70% 75%; 
  }

  html.dark { 
    /* Ensuring dark mode specific values are consistent */
    --background: 260 60% 8%; 
    --foreground: 240 10% 85%;

    --card: 260 40% 18%; 
    --card-foreground: 240 10% 85%;

    --popover: 260 40% 12%;
    --popover-foreground: 240 10% 85%;

    --primary: 275 80% 65%; 
    --primary-foreground: 240 10% 95%;

    --secondary: 260 30% 25%; 
    --secondary-foreground: 240 10% 75%;

    --muted: 260 30% 22%;
    --muted-foreground: 240 10% 60%;

    --accent: 275 80% 70%; 
    --accent-foreground: 240 10% 95%;

    --destructive: 0 70% 55%; 
    --destructive-foreground: 0 0% 100%;

    --border: 260 30% 30%; 
    --input: 260 30% 25%;
    --ring: 275 80% 70%;

    --sidebar-background: 255 45% 22%;       
    --sidebar-foreground: 240 15% 90%;       
    --sidebar-primary: 275 80% 65%;          
    --sidebar-primary-foreground: 240 10% 95%; 
    --sidebar-accent: 260 40% 28%;           
    --sidebar-accent-foreground: 240 15% 92%;
    --sidebar-border: 260 30% 15%;           
    --sidebar-ring: 275 80% 70%;      
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    background-color: hsl(var(--background));
    background-image: linear-gradient(145deg, hsl(260, 50%, 10%) 0%, hsl(265, 55%, 15%) 30%, hsl(270, 60%, 20%) 70%, hsl(275, 65%, 25%) 100%);
    background-attachment: fixed;
    @apply text-foreground; 
    font-family: var(--font-nunito), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  }
}

/* Custom utility classes */
.text-technical-blue { 
  color: hsl(var(--custom-technical-text-blue));
}
.bg-technical-norm-blue {
  background-color: hsl(var(--custom-technical-norm-blue));
  color: hsl(var(--custom-technical-norm-blue-foreground));
}
.text-technical-norm-blue {
  color: hsl(var(--custom-technical-norm-blue));
}

.bg-alert-major-error { 
  background-color: hsl(var(--destructive));
  color: hsl(var(--destructive-foreground));
}
.bg-warning-yellow {
  background-color: hsl(var(--custom-warning-yellow-bg));
  color: hsl(var(--custom-warning-yellow-fg));
}

.bg-severity-low {
  background-color: hsl(var(--custom-severity-low-bg));
  color: hsl(var(--custom-severity-low-fg));
}
.text-severity-low-fg {
  color: hsl(var(--custom-severity-low-fg));
}
.border-severity-low {
  border-color: hsl(var(--custom-severity-low-fg)); 
}


.bg-severity-medium {
  background-color: hsl(var(--custom-severity-medium-bg));
  color: hsl(var(--custom-severity-medium-fg));
}
.text-severity-medium-fg {
  color: hsl(var(--custom-severity-medium-fg));
}
.border-severity-medium {
  border-color: hsl(var(--custom-severity-medium-fg)); 
}

.bg-severity-high {
  background-color: hsl(var(--custom-severity-high-bg));
  color: hsl(var(--custom-severity-high-fg));
}
.text-severity-high-fg {
  color: hsl(var(--custom-severity-high-fg));
}
.border-severity-high {
  border-color: hsl(var(--custom-severity-high-fg)); 
}

/* Glassmorphism related classes - Adjusted for Dark Purple Theme */
.glass-card {
  background-color: hsla(var(--card), 0.65); /* Base for glass panels */
  @apply backdrop-blur-lg shadow-xl border border-[hsla(var(--border),0.3)] rounded-2xl;
}
.glass-sidebar {
   background-color: hsla(var(--sidebar-background), 0.75) !important; /* Sidebar glass */
   @apply backdrop-blur-xl border-r border-[hsla(var(--sidebar-border),0.4)] rounded-none md:rounded-r-md; /* Sidebar usually not rounded on inner edges on mobile */
}
.glass-sidebar-header-footer {
   background-color: transparent !important;
   border-color: hsla(var(--sidebar-border),0.2) !important;
}

.glass-card-content {
  @apply bg-transparent; 
}

.glass-accordion-item {
  background-color: hsla(var(--card), 0.5); 
  @apply backdrop-blur-md shadow-md border border-[hsla(var(--border),0.25)] rounded-xl;
}

.glass-accordion-trigger {
  @apply hover:bg-[hsla(var(--muted),0.4)]; 
}
.glass-accordion-content {
   @apply bg-transparent;
}
